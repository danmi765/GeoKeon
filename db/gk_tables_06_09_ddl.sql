-- MySQL Script generated by MySQL Workbench
-- Sat Jun  9 18:45:12 2018
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='TRADITIONAL,ALLOW_INVALID_DATES';

-- -----------------------------------------------------
-- Schema GK2018
-- -----------------------------------------------------

-- -----------------------------------------------------
-- Schema GK2018
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `GK2018` DEFAULT CHARACTER SET utf8 ;
USE `GK2018` ;

-- -----------------------------------------------------
-- Table `GK2018`.`GK_USERS`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `GK2018`.`GK_USERS` ;

CREATE TABLE IF NOT EXISTS `GK2018`.`GK_USERS` (
  `USER_ID` VARCHAR(10) NOT NULL,
  `USER_PW` VARCHAR(100) NULL,
  `USER_NAME` VARCHAR(30) NULL,
  `USER_PHONE` VARCHAR(11) NULL,
  `USER_EMAIL` VARCHAR(50) NULL,
  `JOIN_DATE` DATETIME NULL,
  `LOGIN_DATE` DATETIME NULL,
  `STATUS` CHAR(2) NULL COMMENT '가입 : T\n탈퇴 : F\n휴면 : R',
  `WITHDRAWAL_REASON` VARCHAR(45) NULL,
  PRIMARY KEY (`USER_ID`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `GK2018`.`BUSINESS_DOMAIN`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `GK2018`.`BUSINESS_DOMAIN` ;

CREATE TABLE IF NOT EXISTS `GK2018`.`BUSINESS_DOMAIN` (
  `BUSINESS_ID` INT NOT NULL AUTO_INCREMENT,
  `BUSINESS_NAME` VARCHAR(30) NULL COMMENT '업종구분 \n한글로 입력\n',
  PRIMARY KEY (`BUSINESS_ID`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `GK2018`.`PORTPOLIO`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `GK2018`.`PORTPOLIO` ;

CREATE TABLE IF NOT EXISTS `GK2018`.`PORTPOLIO` (
  `PORTPOLIO_ID` INT NOT NULL AUTO_INCREMENT,
  `PORTPOLIO_IMG` VARCHAR(100) NULL COMMENT 'pc_main.jpg , mobile_main.jpg, tablet_main.jpg 형식으로 \n\',\' 를 구분자로 \n최대 이미지 갯수는 3~4 정도로 제한.\n각 이미지 이름은 통일하여 사용.',
  `PORTPOLIO_NAME` VARCHAR(30) NULL,
  `BUSINESS_ID` INT NOT NULL,
  PRIMARY KEY (`PORTPOLIO_ID`),
  INDEX `fk_PORTPOLIO_BUSINESS_DOMAIN_idx` (`BUSINESS_ID` ASC),
  CONSTRAINT `fk_PORTPOLIO_BUSINESS_DOMAIN`
    FOREIGN KEY (`BUSINESS_ID`)
    REFERENCES `GK2018`.`BUSINESS_DOMAIN` (`BUSINESS_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `GK2018`.`BOARD_DOMAIN`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `GK2018`.`BOARD_DOMAIN` ;

CREATE TABLE IF NOT EXISTS `GK2018`.`BOARD_DOMAIN` (
  `BOARD_DOMAIN_ID` INT NOT NULL AUTO_INCREMENT,
  `BOARD_NAME` VARCHAR(30) NULL COMMENT '사용자가 지정한 한글 게시판명\n게시판명은 10글자 이내로 제한.',
  `BOARD_TABLE_NAME` VARCHAR(45) NULL COMMENT 'DB에서 사용하는 게시판 테이블명',
  PRIMARY KEY (`BOARD_DOMAIN_ID`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `GK2018`.`BOARD`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `GK2018`.`BOARD` ;

CREATE TABLE IF NOT EXISTS `GK2018`.`BOARD` (
  `BOARD_ID` INT NOT NULL AUTO_INCREMENT,
  `TITLE` VARCHAR(90) NULL COMMENT '게시글 제목은 30자로 제한',
  `CONTENT` TEXT NULL,
  `PASSWORD` VARCHAR(15) NULL COMMENT '패스워드는 영문 15글자로 제한.',
  `DATE` DATETIME NULL,
  `HITS` INT NULL,
  `USER_ID` VARCHAR(10) NOT NULL,
  `BOARD_DOMAIN_ID` INT NOT NULL,
  PRIMARY KEY (`BOARD_ID`),
  INDEX `fk_BOARD_GK_USERS1_idx` (`USER_ID` ASC),
  INDEX `fk_BOARD_BOARD_DOMAIN1_idx` (`BOARD_DOMAIN_ID` ASC),
  CONSTRAINT `fk_BOARD_GK_USERS1`
    FOREIGN KEY (`USER_ID`)
    REFERENCES `GK2018`.`GK_USERS` (`USER_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_BOARD_BOARD_DOMAIN1`
    FOREIGN KEY (`BOARD_DOMAIN_ID`)
    REFERENCES `GK2018`.`BOARD_DOMAIN` (`BOARD_DOMAIN_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `GK2018`.`COMMENT`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `GK2018`.`COMMENT` ;

CREATE TABLE IF NOT EXISTS `GK2018`.`COMMENT` (
  `COMMENT_ID` INT NOT NULL AUTO_INCREMENT,
  `CONTENT` TEXT NULL,
  `DATE` DATETIME NULL,
  `USER_ID` VARCHAR(10) NOT NULL,
  `BOARD_ID` INT NOT NULL,
  `WITHDRAWAL_REASON` VARCHAR(100) NULL,
  PRIMARY KEY (`COMMENT_ID`),
  INDEX `fk_COMMENT_GK_USERS1_idx` (`USER_ID` ASC),
  INDEX `fk_COMMENT_BOARD1_idx` (`BOARD_ID` ASC),
  CONSTRAINT `fk_COMMENT_GK_USERS1`
    FOREIGN KEY (`USER_ID`)
    REFERENCES `GK2018`.`GK_USERS` (`USER_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_COMMENT_BOARD1`
    FOREIGN KEY (`BOARD_ID`)
    REFERENCES `GK2018`.`BOARD` (`BOARD_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;
